<!DOCTYPE html>
<html lang="en">
<head>
	<title>chatlumb&copy</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style type="text/css">
		* {
			overflow: hidden;
			text-align: center;
		}
		input#message {
			border: 1px solid black;
			background-color: white;
			border-radius: 100vw;
			width: 50vw;
			color: black;
		}
		input#sendMessage {
			border: transparent;
			background-color: red;
			border-radius: 100vw;
			width: 12.5%;
			color: white;
		}
		ul#messages {

		}
	</style>
</head>
<body>
  <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-database.js"></script>
  <script type="text/javascript">
  	var firebaseConfig = {
  		apiKey: "AIzaSyCWO-Ik0Ttnk-kdmxXcyw3tVa7phql6HoQ",
  		authDomain: "chatlumb.firebase.com",
  		databaseURL: "https://chatlumb.firebaseio.com",
  		projectId: "chatlumb",
  		storageBucket: "chatlumb.appspot.com",
  		messagingSenderId: "950288831468",
  		appId: "1:950288831468:web:15e300db6d80fc8828a6c9"
  	};

  	firebase.initializeApp(firebaseConfig);
  	var myName = prompt("Enter your name");
  	function sender() {
  		let message = document.getElementById("message").value;
  		firebase.database().ref("messages").push().set({
  			"sender": myName,
  			"message": message
  		});
  		return false;
  	};
  	firebase.database().ref("messages").on("child_added", function(snapshot) {
  		var html = "";
  		html += "<li>";
  		html += snapshot.val().sender + ": " 
  		+ snapshot.val().message;
  		html += "</li>";

  		document.getElementById("messages").innerHTML += html;
  	});
  </script>

  <form onsubmit="return sender()">
  	<input id="message" placeholder="Enter Your Message" autocomplete="off">
  	<input id="sendMessage" type="submit">
  </form>
  <ul id="messages"></ul>
</body>
</html>
